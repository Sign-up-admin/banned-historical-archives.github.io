# 用户需求文档 (URD - User Requirements Document)

## 📋 目录 / Table of Contents

- [引言 / Introduction](#引言--introduction)
- [用户角色定义 / User Role Definitions](#用户角色定义--user-role-definitions)
- [用户使用场景 / User Usage Scenarios](#用户使用场景--user-usage-scenarios)
- [用户故事 / User Stories](#用户故事--user-stories)
- [用户界面需求 / User Interface Requirements](#用户界面需求--user-interface-requirements)
- [可用性需求 / Usability Requirements](#可用性需求--usability-requirements)
- [用户反馈机制 / User Feedback Mechanisms](#用户反馈机制--user-feedback-mechanisms)

## 引言 / Introduction

### 文档目的 / Purpose

本文档从最终用户角度描述系统需求，定义用户角色、使用场景和具体需求，为产品设计和开发提供用户导向的指导。

### 目标用户 / Target Users

和谐历史档案馆主要面向以下用户群体：

- 历史研究人员和学者
- 对中国近现代史感兴趣的普通读者
- 数据贡献者和志愿者
- 教育工作者和学生

### 相关文档 / Related Documents

- [FRD - 功能需求文档](./FRD.md) - 系统功能详细描述
- [NFR - 非功能需求文档](./NFR.md) - 性能、安全等非功能需求
- [SRS - 系统需求规格说明](./SRS.md) - 完整的系统规格说明
- [需求追踪矩阵](./REQUIREMENTS_TRACEABILITY.md) - 需求与实现的追踪关系

### 用户研究基础 / User Research Foundation

基于现有用户反馈和使用模式分析，系统设计应满足不同用户群体的多样化需求。

## 用户角色定义 / User Role Definitions

### UR1: 普通访客 (Casual Visitor)

**描述**: 对历史感兴趣的普通用户，通过网站了解历史知识。

**特征**:

- 技术水平: 基础互联网使用技能
- 使用频率: 偶尔访问
- 目标: 获取历史知识，满足好奇心

**典型行为**:

- 浏览文章列表
- 阅读感兴趣的文章
- 使用简单搜索功能
- 观看图片和视频资料

### UR2: 历史研究者 (Historical Researcher)

**描述**: 专业的历史研究人员，需要深入研究历史资料。

**特征**:

- 技术水平: 熟练掌握计算机和数据库查询
- 使用频率: 频繁使用，专业工具
- 目标: 学术研究，资料收集和分析

**典型行为**:

- 使用高级搜索功能
- 对比不同版本的文档
- 下载和分析数据
- 使用本地搜索引擎
- 进行复杂的数据筛选

### UR3: 数据贡献者 (Data Contributor)

**描述**: 志愿者或专业人员，为系统贡献新的历史资料。

**特征**:

- 技术水平: 熟练掌握文档处理
- 使用频率: 定期贡献内容
- 目标: 丰富历史资料库，完善数据质量

**典型行为**:

- 上传原始文档
- 进行数据校对和修正
- 验证资料真实性
- 参与社区讨论

### UR4: 教育工作者 (Educator)

**描述**: 教师、教授等教育工作者，使用资料进行教学。

**特征**:

- 技术水平: 熟练掌握教学工具
- 使用频率: 课堂教学和课后研究
- 目标: 教学资源准备，学生指导

**典型行为**:

- 搜索特定历史时期资料
- 组织和分享资料链接
- 为学生创建学习路径
- 验证历史事实准确性

### UR5: 学生用户 (Student User)

**描述**: 大中学生，进行历史学习和研究。

**特征**:

- 技术水平: 基础到中级互联网技能
- 使用频率: 学习任务相关
- 目标: 完成作业，扩展历史知识

**典型行为**:

- 查找特定历史事件资料
- 学习历史人物背景
- 对比不同历史观点
- 进行简单的资料搜索

## 用户使用场景 / User Usage Scenarios

### US1: 历史知识探索场景 / Historical Knowledge Exploration

**参与者**: 普通访客
**前置条件**: 用户访问网站首页
**主要流程**:

1. 用户浏览网站首页，了解系统功能
2. 查看热门或最新文章
3. 根据兴趣选择阅读文章
4. 使用简单搜索查找相关内容
5. 浏览多媒体资料（图片、音乐）

**后置条件**: 用户获得历史知识，提升对相关历史事件的了解

### US2: 学术研究场景 / Academic Research Scenario

**参与者**: 历史研究者
**前置条件**: 研究者需要查找特定历史资料
**主要流程**:

1. 使用高级搜索功能输入关键词
2. 应用多种筛选条件（时间、作者、来源等）
3. 查看搜索结果和高亮片段
4. 阅读文章全文
5. 对比不同版本的同一文档
6. 下载相关资料用于进一步研究

**后置条件**: 研究者获得所需的历史资料，支持学术研究

### US3: 资料贡献场景 / Data Contribution Scenario

**参与者**: 数据贡献者
**前置条件**: 贡献者拥有新的历史资料
**主要流程**:

1. 登录系统（如果需要）
2. 上传原始文档文件
3. 填写资料元数据（标题、作者、日期等）
4. 进行初步的内容解析配置
5. 提交资料等待审核
6. 根据反馈进行资料修正

**后置条件**: 新资料被添加到系统中，丰富历史档案库

### US4: 教学准备场景 / Teaching Preparation Scenario

**参与者**: 教育工作者
**前置条件**: 教师需要准备历史课教学资料
**主要流程**:

1. 根据教学主题搜索相关资料
2. 筛选特定历史时期的文档
3. 组织资料形成教学单元
4. 创建资料链接分享给学生
5. 验证资料的准确性和权威性

**后置条件**: 教师获得完整的教学资料包

### US5: 学生学习场景 / Student Learning Scenario

**参与者**: 学生用户
**前置条件**: 学生需要完成历史作业或了解历史事件
**主要流程**:

1. 使用简单搜索查找作业相关内容
2. 阅读文章了解历史背景
3. 查看相关图片和视频资料
4. 学习历史人物和事件的关系
5. 对比不同观点的历史叙述

**后置条件**: 学生完成学习任务，扩展历史知识

## 用户旅程地图 / User Journey Maps

### 旅程1: 历史研究者深度研究旅程 / Deep Research Journey

**用户**: 历史研究者  
**目标**: 深入研究特定历史时期的重要文献

**阶段1: 发现和探索 (Discovery)**

- **触点**: 访问网站首页
- **行为**: 浏览数据统计，了解系统规模
- **情感**: 好奇、期待
- **痛点**: 需要快速了解系统功能
- **机会**: 提供清晰的功能导览

**阶段2: 搜索和筛选 (Search & Filter)**

- **触点**: 文章列表页面
- **行为**: 使用时间筛选（1966-1976年）、作者筛选（毛泽东）
- **情感**: 专注、高效
- **痛点**: 筛选条件组合复杂
- **机会**: 提供预设筛选模板

**阶段3: 深度阅读 (Deep Reading)**

- **触点**: 文章详情页面
- **行为**: 阅读文章内容，查看PDF原始文档
- **情感**: 投入、分析
- **痛点**: 需要验证文本准确性
- **机会**: PDF预览功能满足验证需求

**阶段4: 版本对比分析 (Version Comparison)**

- **触点**: 版本对比功能
- **行为**: 选择逐字对比模式，分析文档差异
- **情感**: 发现、洞察
- **痛点**: 差异显示需要清晰
- **机会**: 多种对比模式满足不同分析需求

**阶段5: 数据导出 (Data Export)**

- **触点**: 搜索结果和文章内容
- **行为**: 导出相关资料用于进一步研究
- **情感**: 满足、完成
- **痛点**: 需要批量导出功能
- **机会**: 提供多种导出格式

### 旅程2: 数据贡献者校对工作旅程 / Proofreading Work Journey

**用户**: 数据贡献者  
**目标**: 校对OCR识别结果，提高数据质量

**阶段1: 选择校对任务 (Task Selection)**

- **触点**: 文章详情页面
- **行为**: 选择需要校对的文章
- **情感**: 责任、专注
- **痛点**: 需要识别需要校对的内容
- **机会**: 提供校对任务列表

**阶段2: 准备补丁数据 (Patch Preparation)**

- **触点**: OCR补丁编辑界面
- **行为**: 准备补丁JSON数据，定义修改内容
- **情感**: 谨慎、仔细
- **痛点**: 补丁格式复杂
- **机会**: 提供补丁模板和示例

**阶段3: 预览补丁效果 (Preview Patch)**

- **触点**: OCR补丁预览功能
- **行为**: 应用补丁，查看预览效果
- **情感**: 验证、确认
- **痛点**: 需要实时看到效果
- **机会**: 实时预览功能满足需求

**阶段4: 对比和调整 (Compare & Adjust)**

- **触点**: 版本对比功能
- **行为**: 对比原始版本和预览版本，调整补丁
- **情感**: 完善、优化
- **痛点**: 需要多次调整
- **机会**: 支持补丁的多次修改

**阶段5: 提交补丁 (Submit Patch)**

- **触点**: 补丁提交界面
- **行为**: 确认补丁效果，提交到正式版本
- **情感**: 完成、成就感
- **痛点**: 需要确认流程
- **机会**: 提供清晰的提交确认

### 旅程3: 普通访客探索旅程 / Casual Visitor Exploration Journey

**用户**: 普通访客  
**目标**: 了解历史知识，满足好奇心

**阶段1: 首次访问 (First Visit)**

- **触点**: 网站首页
- **行为**: 浏览首页内容，了解系统功能
- **情感**: 好奇、探索
- **痛点**: 信息量大，不知从何开始
- **机会**: 提供新手引导和推荐内容

**阶段2: 内容浏览 (Content Browsing)**

- **触点**: 文章列表页面
- **行为**: 浏览文章列表，点击感兴趣的文章
- **情感**: 兴趣、期待
- **痛点**: 文章太多，难以选择
- **机会**: 提供分类和推荐

**阶段3: 内容阅读 (Content Reading)**

- **触点**: 文章详情页面
- **行为**: 阅读文章内容，查看相关图片
- **情感**: 学习、理解
- **痛点**: 内容可能复杂难懂
- **机会**: 提供背景说明和解释

**阶段4: 多媒体体验 (Multimedia Experience)**

- **触点**: 音乐和图库页面
- **行为**: 收听历史音乐，查看历史图片
- **情感**: 沉浸、感受
- **痛点**: 需要快速加载
- **机会**: 优化加载性能

**阶段5: 分享和收藏 (Share & Save)**

- **触点**: 内容页面
- **行为**: 分享感兴趣的内容，保存链接
- **情感**: 满足、分享
- **痛点**: 需要便捷的分享功能
- **机会**: 提供多种分享方式

## 用户故事 / User Stories

### 普通访客用户故事 / Casual Visitor User Stories

#### US-CV-001: 发现历史内容

**作为** 普通访客  
**我想要** 浏览网站首页了解系统功能  
**以便** 决定如何使用这个历史档案馆  

**验收标准**:

- 首页清晰展示系统主要功能
- 提供快速导航到不同内容区域
- 显示数据统计信息

#### US-CV-002: 阅读历史文章

**作为** 普通访客  
**我想要** 阅读感兴趣的历史文章  
**以便** 了解具体的历史事件和人物  

**验收标准**:

- 文章列表清晰展示标题、作者、日期
- 支持点击进入文章详情页
- 文章内容格式化显示，支持滚动阅读

#### US-CV-003: 欣赏历史音乐

**作为** 普通访客  
**我想要** 收听历史时期的音乐作品  
**以便** 感受历史氛围  

**验收标准**:

- 音乐列表展示作品基本信息
- 支持点击播放音乐
- 显示歌词内容

#### US-CV-004: 查看历史图片

**作为** 普通访客  
**我想要** 浏览历史照片和资料  
**以便** 直观了解历史场景  

**验收标准**:

- 图库列表展示图片缩略图
- 支持点击查看大图
- 显示图片描述和来源信息

### 历史研究者用户故事 / Historical Researcher User Stories

#### US-HR-001: 精确搜索历史资料

**作为** 历史研究者  
**我想要** 使用精确的搜索条件查找资料  
**以便** 快速定位所需的历史文献  

**验收标准**:

- 支持全文搜索和精确短语搜索
- 支持多字段组合搜索
- 搜索结果按相关性排序

#### US-HR-002: 高级数据筛选

**作为** 历史研究者  
**我想要** 使用多种条件筛选数据  
**以便** 缩小搜索范围找到精确资料  

**验收标准**:

- 支持时间范围筛选（年月日）
- 支持作者、来源、标签筛选
- 支持多条件组合筛选

#### US-HR-003: 版本对比分析

**作为** 历史研究者  
**我想要** 对比同一文档的不同版本  
**以便** 分析历史资料的演变和差异  

**验收标准**:

- 支持多版本文档对比
- 清晰显示文字差异（增删改）
- 支持逐字和逐行对比模式

#### US-HR-004: 本地深度搜索

**作为** 历史研究者  
**我想要** 使用本地Elasticsearch进行深度搜索  
**以便** 处理大量数据和复杂查询  

**验收标准**:

- 支持布尔查询语法
- 提供搜索结果高亮
- 支持分页浏览大量结果

#### US-HR-005: PDF原始文档验证

**作为** 历史研究者  
**我想要** 查看PDF格式的原始文档  
**以便** 验证解析后文本的准确性  

**验收标准**:

- 支持PDF文档在线预览
- 支持PDF页面导航和缩放
- 可对比PDF原始文档与解析文本

#### US-HR-006: 多版本深度对比

**作为** 历史研究者  
**我想要** 使用多种对比模式分析文档差异  
**以便** 深入理解历史资料的演变过程  

**验收标准**:

- 支持逐字对比模式（字符级差异）
- 支持逐行对比模式（段落级差异）
- 支持描述和注释对比
- 差异高亮清晰易读

### 数据贡献者用户故事 / Data Contributor User Stories

#### US-DC-001: 上传历史资料

**作为** 数据贡献者  
**我想要** 上传新的历史资料文件  
**以便** 丰富系统的数据内容  

**验收标准**:

- 支持多种文件格式上传
- 提供文件验证和预览
- 支持批量上传功能

#### US-DC-002: 数据标注和校对

**作为** 数据贡献者  
**我想要** 为上传资料添加元数据和进行校对  
**以便** 确保数据的准确性和可用性  

**验收标准**:

- 提供元数据录入界面
- 支持内容预览和编辑
- 提供校对工具和错误标记

#### US-DC-003: 贡献历史追踪

**作为** 数据贡献者  
**我想要** 查看我的贡献记录和影响  
**以便** 了解贡献的价值和系统改进方向  

**验收标准**:

- 显示个人贡献统计
- 提供贡献历史记录
- 展示资料被使用的情况

#### US-DC-004: OCR补丁预览和校对

**作为** 数据贡献者  
**我想要** 预览OCR补丁效果后再提交  
**以便** 确保补丁质量并避免错误  

**验收标准**:

- 支持OCR补丁的实时预览
- 可对比补丁前后的差异
- 支持补丁的修改和重新预览
- 预览版本不影响原始数据

#### US-DC-005: 批量数据校对

**作为** 数据贡献者  
**我想要** 批量应用OCR补丁进行校对  
**以便** 提高校对效率  

**验收标准**:

- 支持补丁的批量应用
- 提供补丁模板和示例
- 支持补丁的导入和导出

### 教育工作者用户故事 / Educator User Stories

#### US-ED-001: 组织教学资料

**作为** 教育工作者  
**我想要** 根据教学主题组织相关资料  
**以便** 创建完整的教学单元  

**验收标准**:

- 支持创建个人资料收藏夹
- 支持资料分组和标注
- 提供资料分享功能

#### US-ED-002: 验证资料准确性

**作为** 教育工作者  
**我想要** 验证历史资料的准确性和来源可靠性  
**以便** 确保教学内容的权威性  

**验收标准**:

- 显示资料来源和出处
- 提供多版本对比功能
- 显示资料更新历史

#### US-ED-003: 学生资源分享

**作为** 教育工作者  
**我想要** 分享资料链接给学生  
**以便** 学生可以独立学习和研究  

**验收标准**:

- 支持生成稳定的资料链接
- 提供批量分享功能
- 支持访问权限控制

## 用户界面需求 / User Interface Requirements

### UI-UR-001: 响应式设计

**描述**: 系统应在各种设备上提供一致的用户体验。

**具体要求**:

- 桌面端（≥1200px）：完整功能展示
- 平板端（768px-1199px）：适应性布局调整
- 手机端（≤767px）：简化界面，重点功能优先

### UI-UR-002: 直观导航

**描述**: 用户应能轻松找到所需功能和内容。

**导航元素**:

- 顶部导航栏：主要功能入口
- 面包屑导航：当前位置指示
- 侧边栏：筛选和搜索选项
- 底部导航：移动端快速访问

### UI-UR-003: 搜索界面

**描述**: 搜索功能应易于使用和理解。

**界面元素**:

- 搜索框：支持自动补全
- 筛选面板：展开/折叠设计
- 搜索结果：清晰的列表展示
- 高级选项：为高级用户提供

### UI-UR-004: 内容展示

**描述**: 内容应以用户友好的方式展示。

**展示要求**:

- 文章内容：保持原始格式，支持放大缩小
- 多媒体内容：响应式播放器
- 数据表格：支持排序、分页、筛选
- 对比视图：并排显示差异

## 可用性需求 / Usability Requirements

### US-UR-001: 学习成本

**目标**: 新用户能在5分钟内完成基本操作。

**具体指标**:

- 首页引导：清晰的功能说明
- 操作提示：悬停提示和帮助文本
- 错误处理：友好的错误提示信息

### US-UR-002: 操作效率

**目标**: 熟练用户能在30秒内完成常见任务。

**效率要求**:

- 快捷键支持：常用操作的键盘快捷键
- 批量操作：支持多选和批量处理
- 搜索历史：保存和重用搜索条件

### US-UR-003: 无障碍访问

**目标**: 系统应支持各类用户的无障碍访问。

**无障碍特性**:

- 键盘导航：完全支持键盘操作
- 屏幕阅读器：语义化HTML结构
- 颜色对比：符合WCAG 2.1 AA标准
- 字体大小：支持用户自定义字体大小

## 用户反馈机制 / User Feedback Mechanisms

### FM-UR-001: 使用统计

**描述**: 系统应收集匿名使用统计数据。

**统计内容**:

- 页面访问量和停留时间
- 功能使用频率
- 搜索关键词分析
- 用户行为路径

### FM-UR-002: 用户反馈收集

**描述**: 提供多种用户反馈渠道。

**反馈方式**:

- 问题报告表单
- 功能建议提交
- 用户满意度调查
- 社区讨论区

### FM-UR-003: 反馈响应

**描述**: 对用户反馈进行及时响应和处理。

**响应机制**:

- 反馈确认通知
- 问题解决跟踪
- 功能改进通知
- 定期更新报告

---

**文档版本**: 2.0
**最后更新**: 2025年1月
**作者**: 用户体验团队
**更新说明**: 添加用户旅程地图，补充OCR补丁和PDF预览相关用户故事，完善用户使用场景
